<!doctype html>
<head>
  <title>Monadic Example</title>
  <!--<script src="../monadicui.js" type="text/javascript" />-->
</head>
<body>
<canvas id='myCanvas' width="968" height="950"></canvas>
<script type="text/javascript">function calculateAngle(k, length) {
   0 + (k * (1 / length) * 2 * Math.PI);
}

function calculateCosine(angle) {
  Math.round(250 + ((200) * Math.cos(angle)));
}

// calculate the arc from the centre for the y value
function calculateSine(angle) {
  Math.round(250 + ((200) * Math.sin(angle)));
}

//set the circle size.
//todo: make this configurable.
var SIZE = 40;

// the public function that it called.
// Currently draws a set of circles
function draw(coords, canvasID) {
  console.log("in draw");
  //var img = document.getElementById(jsID);
  //canvas div as the base
  var cnvs = document.getElementById(canvasID);

  cnvs.style.position = "absolute";
  /*cnvs.style.left = img.offsetLeft + "px";
  cnvs.style.top = img.offsetTop + "px";*/
  cnvs.style.left = "10px";
  cnvs.style.top = "10px";
  var _length = coords.length;
  k = 0;
  for (var i in coords) {
    k++;
    var angle = calculateAngle(k, _length);
    var ctx = cnvs.getContext("2d");
    ctx.beginPath();
    //use sine and cosine to calculate the x, y.
    ctx.arc(calculateSine(angle), calculateSine(angle), SIZE, 0, 2 * Math.PI, false);
    ctx.lineWidth = 3;
    ctx.strokeStyle = '#00ff00';
    ctx.stroke();
  }
}
draw([{'x':58,'y':410}, {'x':348,'y':488}, {'x':462,'y':444}, {'x':751,'y':645}, {'x':520,'y':307}, {'x':903,'y':105},{'x':933,'y':105}], 'myCanvas');</script>
</body>
